<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Kit Details</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/your-fontawesome-kit.js"
      crossorigin="anonymous"
    ></script>
    <style>
      nav.navbar.navbar-expand-lg {
        background-color: #10458a !important;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg" id="navbars">
      <div class="container">
        <!-- Logo -->
        <a class="navbar-brand" href="/index.html">
          <img src="/assets/Images/Logo/crest.svg" alt="Wix Logo" height="70" />
        </a>

        <!-- Toggle button for mobile -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navbar items -->
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mx-auto">
            <li class="nav-item">
              <a class="nav-link text-white active fw-bolder" href="/index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-bolder" href="/pages/new.html"
                >News</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-bolder" href="/pages/video.html"
                >Video</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-white fw-bolder"
                href="/pages/tickets.html"
                >Tickets</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-bolder" href="/pages/shop.html"
                >Shop</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-bolder" href="/pages/player.html"
                >Players</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-bolder" href="/pages/club.html"
                >Club</a
              >
            </li>
          </ul>

          <!-- Sign In Button -->
          <div class="">
            <a
              class="btn btn-outline-light d-flex align-items-center gap-2"
              href="/pages/login.html"
              id="userDropdown"
              role="button"
              data-bs-toggle=""
              aria-expanded="false"
            >
              <i class="fas fa-user"></i> <span>Login</span>
            </a>
          </div>
        </div>
      </div>
    </nav>
    <section class="py-5">
      <div class="container">
        <div class="row">
          <a href="#" class="text-decoration-none col-md-6">
            <div
              class="d-flex justify-content-center align-items-center border p-2"
            >
              <img
                src=""
                alt=""
                class="img-fluid shadow w-100"
                id="product-image"
              />
            </div>
          </a>

          <div class="col-md-6">
            <h2 id="product-title" class="fw-bold"></h2>
            <div class="detail-price mb-3">
              <span id="price-new" class="text-danger fw-bold fs-4">£</span>
              <span
                id="price-old"
                class="text-decoration-line-through text-muted ms-2"
                >£</span
              >
            </div>
            <p id="product-desc" class="text-justify"></p>

            <!-- Accordion -->
            <div class="accordion" id="accordionExample">
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseOne"
                  >
                    Product Details
                  </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse show">
                  <div class="accordion-body">
                    <ul class="">
                      <li><i class="fa-solid fa-check me-2"></i>Mesh Base</li>
                      <li>
                        <i class="fa-solid fa-check me-2"></i>Suede formstrip
                      </li>
                      <li>
                        <i class="fa-solid fa-check me-2"></i>Suede tongue with
                        PUMA label
                      </li>
                      <li>
                        <i class="fa-solid fa-check me-2"></i>Official Licensed
                        MCFC Product
                      </li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseTwo"
                  >
                    Shipping and Payment
                  </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse">
                  <div class="accordion-body">
                    <p>
                      <strong>Shipping:</strong> Free delivery on orders over
                      €100.
                    </p>
                    <p>
                      <strong>Payment:</strong> Credit/debit card, PayPal
                      supported.
                    </p>
                  </div>
                </div>
              </div>

              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button collapsed"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#collapseThree"
                  >
                    Official Man City Merchandise
                  </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse">
                  <div class="accordion-body">
                    <p>
                      Guaranteed 100% official Manchester City merchandise when
                      ordering from the official store.
                    </p>
                  </div>
                </div>
              </div>
            </div>
            <!-- End accordion -->
          </div>
        </div>
      </div>
    </section>

    <script>
      const path = "http://localhost:3000/shop";
      const params = new URLSearchParams(window.location.search);
      const productId = params.get("id");

      if (!productId) {
        console.error("Product ID not found in URL.");
      } else {
        fetch(`${path}/${productId}`)
          .then((res) => {
            if (!res.ok) throw new Error("Product not found");
            return res.json();
          })
          .then((data) => {
            document.getElementById("product-title").innerText = data.name;
            document.getElementById("price-new").innerText = `£ ${data.price}`;
            document.getElementById("price-old").innerText =
              data.oldPrice && data.oldPrice !== data.price
                ? `£ ${data.oldPrice}`
                : "";
            document.getElementById("product-desc").innerText =
              data.description;
            document.getElementById("product-image").src = data.image;
            document.getElementById("product-image").alt = data.name;
          })
          .catch((err) => console.error("Error loading product:", err));
      }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
